<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nightreign Seed Viewer</title>
    <link href="https://fonts.googleapis.com/css2?family=Almendra:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">


    <style id="lefttable-styles">
      .map-layout {
        display: grid;
        grid-template-columns: 320px minmax(0, 1fr) 320px; /* left table, map, spacer */
        gap: 16px;
        align-items: start;
      }
      #mapContainer {
        grid-column: 2;            /* center column */
        justify-self: center;      /* center the map within column */
      }
      .left-info {
        grid-column: 1;
        background: rgba(20,18,14,.85);
        border: 1px solid #3b2f1a;
        border-radius: 10px;
        padding: 12px;
        color: #e6dfd0;
        box-shadow: 0 4px 10px rgba(0,0,0,.35);
      }
      .info-table {
        width: 100%;
        border-collapse: collapse;
      }
      .info-table th, .info-table td {
        padding: 6px 8px;
        border-bottom: 1px solid #4a3a20;
        text-align: left;
      }
      .info-table th {
        text-align: center;
        background: #2a2418;
      }
      .right-spacer { grid-column: 3; }
      @media (max-width: 980px) {
        .map-layout { grid-template-columns: 1fr; }
        #mapContainer { grid-column: 1; }
        .right-spacer { display: none; }
      }
    </style>
    
</head>
<body>
    <div id="infoPopup" class="popup-window hidden">
        <div id="infoContent"></div>
    </div>  

    <div class="container">
        <div id="selectionPanel" class="selection-panel">
            <div class="form-group">
                <label>Choose Your Foe:</label>
                <div id="bossGrid" class="boss-grid"></div>
            </div>

            <div class="form-group">
    <label>Choose Your Nightfarer:</label>
    <div id="nightfarerGrid" class="boss-grid"></div>
</div>
<div class="form-row">
    <!-- Shifting Earth -->
    <div class="form-group">
        <label for="earthSelect">The Shifting Earth:</label>
        <select id="earthSelect">
            <option value="None">None</option>
            <option value="Mountains">Mountains</option>
            <option value="Crater">Crater</option>
            <option value="Rotted Woods">Rotted Woods</option>
            <option value="Noklateo">Noklateo</option>
        </select>
    </div>

    <!-- Players Radio Buttons -->
    <div class="form-group">
        <label>Number of Players:</label>
        <div id="playersRadios" class="radio-group">
            <input type="radio" id="p1" name="players" value="1" checked><label for="p1">1</label>
            <input type="radio" id="p2" name="players" value="2"><label for="p2">2</label>
            <input type="radio" id="p3" name="players" value="3"><label for="p3">3</label>
        </div>
    </div>
</div>

            <div class="form-group">
                <button onclick="confirmSelections()">Confirm Fate</button>
            </div>
        </div>
        
        <div class="map-layout">
          <div id="leftInfo" class="left-info hidden">
            <div class="info-tabs">
              <button class="info-tab active" data-tab="character">Character</button>
              <button class="info-tab" data-tab="weapons">Weapons</button>
              <button class="info-tab" data-tab="spells">Spells</button>
              <button class="info-tab" data-tab="scalings">Scalings</button>
            </div>
            <div id="infoTables">
              <table id="characterTable" class="info-table">
                <tbody>
                  <tr><th colspan="2">Character</th></tr>
                  <tr><td>Level</td><td>45</td></tr>
                  <tr><td>Vigor</td><td>25</td></tr>
                  <tr><td>Mind</td><td>15</td></tr>
                  <tr><td>Endurance</td><td>18</td></tr>
                </tbody>
              </table>
              <div id="weaponsGrid" class="weapons-grid hidden"></div>
              <table id="spellsTable" class="info-table hidden">
                <tbody>
                  <tr><th colspan="2">Spells</th></tr>
                  <tr><td colspan="2">Glintstone Pebble, Flame Sling</td></tr>
                </tbody>
              </table>
              <table id="scalingsTable" class="info-table hidden">
                    <thead>
                        <tr>
                        <th>NIGHTFARER</th>
                        <th>HP</th>
                        <th>FP</th>
                        <th>STA</th>
                        <th>STR</th>
                        <th>DEX</th>
                        <th>INT</th>
                        <th>FAI</th>
                        <th>ARC</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><a>Duchess</a></td>
                            <td>C</td><td>B</td><td>D</td><td>D</td><td>B</td><td>A</td><td>B</td><td>C</td>
                        </tr>
                        <tr>
                            <td><a>Executor</a></td>
                            <td>B</td><td>D</td><td>B</td><td>C</td><td>S</td><td>D</td><td>D</td><td>S</td>
                        </tr>
                        <tr>
                            <td><a>Guardian</a></td>
                            <td>S</td><td>C</td><td>A</td><td>B</td><td>C</td><td>D</td><td>C</td><td>C</td>
                        </tr>
                        <tr>
                            <td><a>Ironeye</a></td>
                            <td>C</td><td>C</td><td>B</td><td>C</td><td>A</td><td>D</td><td>D</td><td>B</td>
                        </tr>
                        <tr>
                            <td><a>Raider</a></td>
                            <td>A</td><td>D</td><td>A</td><td>S</td><td>C</td><td>D</td><td>D</td><td>C</td>
                        </tr>
                        <tr>
                            <td><a>Recluse</a></td>
                            <td>D</td><td>A</td><td>C</td><td>D</td><td>C</td><td>S</td><td>S</td><td>C</td>
                        </tr>
                        <tr>
                            <td><a>Revenant</a></td>
                            <td>D</td><td>A</td><td>D</td><td>C</td><td>C</td><td>B</td><td>S</td><td>B</td>
                        </tr>
                        <tr>
                            <td><a>Wylder</a></td>
                            <td>A</td><td>C</td><td>B</td><td>A</td><td>B</td><td>C</td><td>C</td><td>C</td>
                        </tr>
                    </tbody>
                </table>

            </div>
          </div>
          <div id="mapContainer" class="map-container">
            <button id="resetMarkersButton" class="reset-markers-button hidden" onclick="resetMarkers()">Reset Markers</button>
            <button id="backButton" class="back-button hidden" onclick="showSelections()">← Change Selection</button>
            <div id="imageWrapper" class="image-wrapper hidden">
                <div id="mapInstructions" class="map-instructions hidden">
                    <p><strong>How to use:</strong></p>
                    <ul>
                        <li>Left‑click a marker to mark a Church.</li>
                        <li>Right‑click to mark a Rise.</li>
                        <li>Click “Reset Markers” to start over.</li>
                    </ul>
                </div>
                <img id="mapImage" class="map-image" alt="Map">
                <div id="mapOverlay" class="map-overlay"></div>
            </div>
            <div id="errorMessage" class="error-message hidden"></div>
            <div id="seedDisplay" class="seed-display hidden"></div>
            <div id="seedInfo" class="seed-info hidden">
                <img id="seedBossIcon" alt="Boss icon">
                <div class="seed-info-text">
                    <div id="seedId" class="seed-id"></div>
                    <div id="seedEvent" class="seed-event"></div>
                </div>
            </div>
          </div>
          <div class="right-spacer" aria-hidden="true"></div>
        </div> <!-- /.map-layout -->
        
        <div id="seedDisplay" class="seed-display hidden"></div>
        <button id="viewSeedButton" class="reset-markers-button hidden">View Seed</button>
        <img id="seedImage" class="hidden" alt="Seed Preview">
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
    <script src="app.js" defer></script>
</body>
</html>
